{"version":3,"sources":["loader/Loader.module.css","components/Weather.module.css","components/Modal.module.css","img/cloudy-night.svg","img/cloudy-day.svg","img/thunder.svg","img/drizzle.svg","img/rainy.svg","img/snowy.svg","img/day.svg","loader/Loader.jsx","components/Weather.jsx","components/Main.jsx","api/api.js","components/Modal.jsx","components/MainContainer.jsx","App.js","reportWebVitals.js","index.js","components/Main.module.css"],"names":["module","exports","Loader","className","s","wrapper","lds_ellipsis","Weather","props","img","console","log","name","icon","cloudyNight","thunder","drizzle","rainy","snow","clearDay","weatherBlock","weather","deleteCity","delete","button","onClick","location","mainInfo","src","alt","temp","Math","round","weatherType","feelsLike","feels_like","Main","main","currentGeo","locations","map","isModal","modalButton","setIsModal","instance","axios","baseURL","weatherApi","lat","lon","get","city","Modal","modal","modal__inner","onSubmit","e","preventDefault","target","cityName","value","trim","getWeatherByName","form","type","input","placeholder","MainContainer","useState","isLoader","setIsLoader","setCurrentGeo","setLocations","useEffect","navigator","geolocation","getCurrentPosition","data","coords","latitude","longitude","then","res","description","alert","JSON","parse","localStorage","getItem","forEach","elem","setItem","stringify","some","loc","prevLocations","id","catch","err","filter","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08776e1d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__3B_q5\",\"lds_ellipsis\":\"Loader_lds_ellipsis__K7ng4\",\"lds-ellipsis1\":\"Loader_lds-ellipsis1__T82Y6\",\"lds-ellipsis2\":\"Loader_lds-ellipsis2__3Zb_4\",\"lds-ellipsis3\":\"Loader_lds-ellipsis3__3fIHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weather\":\"Weather_weather__3Hnsz\",\"location\":\"Weather_location__J2mfK\",\"mainInfo\":\"Weather_mainInfo__2xk3z\",\"img\":\"Weather_img__SnwHS\",\"temp\":\"Weather_temp__3-2kx\",\"weatherType\":\"Weather_weatherType__FpgMP\",\"feelsLike\":\"Weather_feelsLike__3y-G7\",\"delete\":\"Weather_delete__3_Mnl\",\"button\":\"Weather_button__1ievD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__dlxhz\",\"show\":\"Modal_show__WHxOV\",\"modal__inner\":\"Modal_modal__inner__ZIaMO\",\"modalButton\":\"Modal_modalButton__1ggqc\",\"form\":\"Modal_form__2FyOs\",\"input\":\"Modal_input__2xsuX\",\"button\":\"Modal_button__1BHyy\"};","export default __webpack_public_path__ + \"static/media/cloudy-night.4a43954d.svg\";","export default __webpack_public_path__ + \"static/media/cloudy-day.7fb7ecfc.svg\";","export default __webpack_public_path__ + \"static/media/thunder.19ff3c30.svg\";","export default __webpack_public_path__ + \"static/media/drizzle.44fb8223.svg\";","export default __webpack_public_path__ + \"static/media/rainy.130d6250.svg\";","export default __webpack_public_path__ + \"static/media/snowy.dce3f5e7.svg\";","export default __webpack_public_path__ + \"static/media/day.c33ef664.svg\";","import React from 'react';\r\nimport s from './Loader.module.css';\r\n\r\n\r\nlet Loader = () => {\r\n    return(\r\n        <div className = {s.wrapper}>\r\n            <div className = {s.lds_ellipsis}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n   \r\n    )\r\n}\r\n\r\nexport default Loader;","import s from './Weather.module.css';\r\n\r\n//ICONS\r\nimport cloudyDay from '../img/cloudy-day.svg';\r\nimport cloudyNight from '../img/cloudy-night.svg';\r\nimport thunder from '../img/thunder.svg';\r\nimport drizzle from '../img/drizzle.svg';\r\nimport rainy from '../img/rainy.svg';\r\nimport snow from '../img/snowy.svg';\r\nimport clearDay from '../img/day.svg';\r\nimport Loader from '../loader/Loader';\r\n\r\nconst Weather = (props) => {\r\n    console.log('родилась' + props.name);\r\n\r\n    let img;\r\n    switch (props.icon){\r\n        case \"Clouds\": \r\n            img = cloudyNight\r\n            break;\r\n\r\n        case \"Thunderstorm\": \r\n            img = thunder;\r\n            break;\r\n\r\n        case \"Drizzle\": \r\n            img = drizzle;\r\n            break;\r\n\r\n        case \"Rain\": \r\n            img = rainy;\r\n            break;\r\n\r\n        case \"Snow\": \r\n            img = snow;\r\n            break;\r\n\r\n        case \"Clear\":\r\n            img = clearDay;\r\n            break;\r\n\r\n        default: \r\n            img = clearDay;\r\n            break;\r\n    }\r\n    return(\r\n        <div className = {s.weatherBlock}>\r\n            <div className = {s.weather}>\r\n                {props.deleteCity && \r\n                <div className = {s.delete}>\r\n                  <button className = {s.button} onClick = { () => props.deleteCity(props.name) } > X </button>\r\n                </div>\r\n                }\r\n                <div className = {s.location}>\r\n                    {props.name}\r\n                </div>\r\n                <div className = {s.mainInfo}>\r\n                    <div className = {s.img}>\r\n                        <img src = {img} alt=\"\"/>\r\n                    </div>\r\n                    <div className = {s.temp}>\r\n                        {Math.round(props.temp) + '°C'}\r\n                    </div>\r\n                </div>\r\n                <div className = {s.weatherType}>{props.weather}</div>\r\n                <div className = {s.feelsLike}>Ощущается как: {Math.round(props.feels_like)}°C</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Weather;","import Weather from './Weather';\r\nimport s from './Main.module.css';\r\n\r\nconst Main = (props) => {\r\n    return(\r\n        <div className = {s.main}>\r\n            <Weather \r\n            name = {props.currentGeo.name} \r\n            temp = {props.currentGeo.temp}\r\n            weather = {props.currentGeo.weather}\r\n            feels_like = {props.currentGeo.feels_like}\r\n            icon = {props.currentGeo.icon} />\r\n\r\n            {props.locations.map( location =>  \r\n                <Weather\r\n                deleteCity = {props.deleteCity}\r\n\r\n                name = {location.name} \r\n                temp = {location.temp}\r\n                weather = {location.weather}\r\n                feels_like = {location.feels_like}\r\n                icon = {location.icon} />\r\n            )}\r\n\r\n            {props.isModal \r\n            ? <button className = {s.modalButton} onClick = { () => props.setIsModal(false) }>-</button>\r\n            : <button className = {s.modalButton} onClick = { () => props.setIsModal(true) } >+</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL:\"https://api.openweathermap.org/data/2.5/\"\r\n})\r\n\r\nexport const weatherApi = {\r\n    byCoord(lat,lon){\r\n        return instance.get(`weather?lat=${lat}&lon=${lon}&units=metric&lang=ru&appid=471fb871540b1cabfd3ed0bce031cb0d`)\r\n    },\r\n    \r\n    byCityName(city){\r\n        return instance.get(`weather?q=${city}&units=metric&lang=ru&appid=471fb871540b1cabfd3ed0bce031cb0d`)\r\n    }\r\n}\r\n\r\n","import s from './Modal.module.css';\r\n\r\nconst Modal = (props) => {\r\n    return(\r\n        <div className = {s.modal}>\r\n            <div className = {s.modal__inner}>\r\n                <form onSubmit = {(e) => {\r\n                    e.preventDefault();\r\n                    let city = e.target.cityName.value.trim();\r\n                    if(city){\r\n                        props.getWeatherByName(city);\r\n                        e.target.cityName.value = '';\r\n                        props.setIsModal(false);\r\n                    }\r\n                }} className = {s.form}>\r\n                    <input name = \"cityName\" type=\"text\" className = {s.input} placeholder = \"Введите место...\"/>\r\n                    <button type = 'submit' className = {s.button} >Поиск</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import react, {useEffect, useState} from 'react';\r\nimport Main from './Main';\r\nimport {weatherApi} from '../api/api';\r\nimport Modal from './Modal';\r\nimport Loader from '../loader/Loader';\r\n\r\nconst MainContainer = () => {\r\n\r\n    const [isLoader, setIsLoader] = useState(true);\r\n    const [currentGeo, setCurrentGeo] = useState({});\r\n    const [isModal, setIsModal] = useState(false);\r\n    const [locations, setLocations] = useState([]);\r\n\r\n    useEffect( () => {\r\n        navigator.geolocation.getCurrentPosition( (data) => {\r\n            weatherApi.byCoord(data.coords.latitude, data.coords.longitude).then( res => {\r\n\r\n                let {temp,feels_like} = res.data.main;\r\n                let {name} = res.data;\r\n                let {description,main:icon} = res.data.weather[0];\r\n                setCurrentGeo({temp,feels_like,name,description,icon});\r\n                setIsLoader(false);\r\n\r\n            } )\r\n        }, () => {\r\n            alert(\"Ошибка! Вы не дали доступа к гео-позиции!\")\r\n        } );\r\n\r\n    }, []);\r\n\r\n    useEffect( () => {\r\n        let elements  = JSON.parse( localStorage.getItem('locations') ) || [];\r\n        elements.forEach( elem => getWeatherByName(elem) );\r\n    }, [] )\r\n\r\n    useEffect( () => {\r\n        localStorage.setItem( 'locations', JSON.stringify( locations.map( elem => elem.name ) ) )\r\n    }, [locations] )\r\n\r\n    const getWeatherByName = (cityName) => {\r\n        if( !locations.some( loc => loc.name == cityName ) ){\r\n            setIsLoader(true);\r\n            weatherApi.byCityName(cityName)\r\n            .then( res => {\r\n    \r\n                let {temp, feels_like} = res.data.main;\r\n                let {description, main:icon} = res.data.weather[0];\r\n                \r\n                setLocations( prevLocations => [ {temp, feels_like, name: cityName, description, icon, id: 1} , ...prevLocations ] );\r\n                setIsLoader(false);\r\n            } )\r\n            .catch( err => {\r\n                alert(`Город ${cityName} не найден :(`)\r\n            });\r\n        } else alert(`Вы уже добавили город ${cityName}`)\r\n    }\r\n\r\n    const deleteCity = (cityName) => {\r\n        setLocations( prevLocations => prevLocations.filter( loc => loc.name !== cityName ) );\r\n    }\r\n\r\n    return(\r\n        <>\r\n        {isLoader \r\n        ? <Loader />\r\n        : <Main     \r\n          currentGeo = {currentGeo} \r\n          setIsModal = {setIsModal}\r\n          isModal = {isModal} \r\n          locations = {locations} \r\n          deleteCity = {deleteCity} />\r\n        }\r\n        { isModal && \r\n        <Modal\r\n        setIsModal = {setIsModal}\r\n        getWeatherByName = {getWeatherByName}/> }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MainContainer;","import React from 'react'\nimport MainContainer from './components/MainContainer';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <MainContainer />\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3fzSv\",\"modal\":\"Main_modal__12qLN\",\"show\":\"Main_show__tU-hz\",\"modal__inner\":\"Main_modal__inner__35MS-\",\"modalButton\":\"Main_modalButton__25jSV\",\"form\":\"Main_form__283FA\",\"input\":\"Main_input__dhsNj\",\"button\":\"Main_button__2FQPJ\"};"],"sourceRoot":""}
(this["webpackJsonpforecast-hooks"]=this["webpackJsonpforecast-hooks"]||[]).push([[0],{10:function(e,t,a){e.exports={wrapper:"Loader_wrapper__3B_q5",lds_ellipsis:"Loader_lds_ellipsis__K7ng4","lds-ellipsis1":"Loader_lds-ellipsis1__T82Y6","lds-ellipsis2":"Loader_lds-ellipsis2__3Zb_4","lds-ellipsis3":"Loader_lds-ellipsis3__3fIHb"}},27:function(e,t,a){},3:function(e,t,a){e.exports={weather:"Weather_weather__3Hnsz",location:"Weather_location__J2mfK",mainInfo:"Weather_mainInfo__2xk3z",img:"Weather_img__SnwHS",temp:"Weather_temp__3-2kx",weatherType:"Weather_weatherType__FpgMP",feelsLike:"Weather_feelsLike__3y-G7",delete:"Weather_delete__3_Mnl",button:"Weather_button__1ievD"}},4:function(e,t,a){e.exports={modal:"Modal_modal__dlxhz",show:"Modal_show__WHxOV",modal__inner:"Modal_modal__inner__ZIaMO",modalButton:"Modal_modalButton__1ggqc",form:"Modal_form__2FyOs",input:"Modal_input__2xsuX",button:"Modal_button__1BHyy"}},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),c=a.n(i),s=a(19),o=a.n(s),r=(a(27),a(21)),l=a(6),d=a(3),u=a.n(d),_=(a.p,a.p+"static/media/cloudy-night.4a43954d.svg"),m=a.p+"static/media/thunder.19ff3c30.svg",f=a.p+"static/media/drizzle.44fb8223.svg",b=a.p+"static/media/rainy.130d6250.svg",j=a.p+"static/media/snowy.dce3f5e7.svg",h=a.p+"static/media/day.c33ef664.svg",p=a(10),O=a.n(p),x=function(){return Object(n.jsx)("div",{className:O.a.wrapper,children:Object(n.jsxs)("div",{className:O.a.lds_ellipsis,children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})},g=function(e){var t;switch(console.log("\u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c"+e.name),e.icon){case"Clouds":t=_;break;case"Thunderstorm":t=m;break;case"Drizzle":t=f;break;case"Rain":t=b;break;case"Snow":t=j;break;case"Clear":default:t=h}return Object(n.jsx)("div",{className:u.a.weatherBlock,children:Object(n.jsxs)("div",{className:u.a.weather,children:[e.deleteCity&&Object(n.jsx)("div",{className:u.a.delete,children:Object(n.jsx)("button",{className:u.a.button,onClick:function(){return e.deleteCity(e.name)},children:" X "})}),Object(n.jsx)("div",{className:u.a.location,children:e.name}),Object(n.jsxs)("div",{className:u.a.mainInfo,children:[Object(n.jsx)("div",{className:u.a.img,children:Object(n.jsx)("img",{src:t,alt:""})}),Object(n.jsx)("div",{className:u.a.temp,children:Math.round(e.temp)+"\xb0C"})]}),Object(n.jsx)("div",{className:u.a.weatherType,children:e.weather}),Object(n.jsxs)("div",{className:u.a.feelsLike,children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like),"\xb0C"]})]})})},v=a(8),w=a.n(v),M=function(e){return Object(n.jsxs)("div",{className:w.a.main,children:[Object(n.jsx)(g,{name:e.currentGeo.name,temp:e.currentGeo.temp,weather:e.currentGeo.weather,feels_like:e.currentGeo.feels_like,icon:e.currentGeo.icon}),e.locations.map((function(t){return Object(n.jsx)(g,{deleteCity:e.deleteCity,name:t.name,temp:t.temp,weather:t.weather,feels_like:t.feels_like,icon:t.icon})})),e.isModal?Object(n.jsx)("button",{className:w.a.modalButton,onClick:function(){return e.setIsModal(!1)},children:"-"}):Object(n.jsx)("button",{className:w.a.modalButton,onClick:function(){return e.setIsModal(!0)},children:"+"})]})},N=a(20).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),k=function(e,t){return N.get("weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&lang=ru&appid=471fb871540b1cabfd3ed0bce031cb0d"))},y=function(e){return N.get("weather?q=".concat(e,"&units=metric&lang=ru&appid=471fb871540b1cabfd3ed0bce031cb0d"))},S=a(4),C=a.n(S),I=function(e){return Object(n.jsx)("div",{className:C.a.modal,children:Object(n.jsx)("div",{className:C.a.modal__inner,children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=t.target.cityName.value.trim();a&&(e.getWeatherByName(a),t.target.cityName.value="",e.setIsModal(!1))},className:C.a.form,children:[Object(n.jsx)("input",{name:"cityName",type:"text",className:C.a.input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e..."}),Object(n.jsx)("button",{type:"submit",className:C.a.button,children:"\u041f\u043e\u0438\u0441\u043a"})]})})})},B=function(){var e=Object(i.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(i.useState)({}),o=Object(l.a)(s,2),d=o[0],u=o[1],_=Object(i.useState)(!1),m=Object(l.a)(_,2),f=m[0],b=m[1],j=Object(i.useState)([]),h=Object(l.a)(j,2),p=h[0],O=h[1];Object(i.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){k(e.coords.latitude,e.coords.longitude).then((function(e){var t=e.data.main,a=t.temp,n=t.feels_like,i=e.data.name,s=e.data.weather[0],o=s.description,r=s.main;u({temp:a,feels_like:n,name:i,description:o,icon:r}),c(!1)}))}),(function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u0412\u044b \u043d\u0435 \u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0433\u0435\u043e-\u043f\u043e\u0437\u0438\u0446\u0438\u0438!")}))}),[]),Object(i.useEffect)((function(){(JSON.parse(localStorage.getItem("locations"))||[]).forEach((function(e){return g(e)}))}),[]),Object(i.useEffect)((function(){localStorage.setItem("locations",JSON.stringify(p.map((function(e){return e.name}))))}),[p]);var g=function(e){p.some((function(t){return t.name==e}))?alert("\u0412\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434 ".concat(e)):(c(!0),y(e).then((function(t){var a=t.data.main,n=a.temp,i=a.feels_like,s=t.data.weather[0],o=s.description,l=s.main;O((function(t){return[{temp:n,feels_like:i,name:e,description:o,icon:l,id:1}].concat(Object(r.a)(t))})),c(!1)})).catch((function(t){alert("\u0413\u043e\u0440\u043e\u0434 ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d :("))})))};return Object(n.jsxs)(n.Fragment,{children:[a?Object(n.jsx)(x,{}):Object(n.jsx)(M,{currentGeo:d,setIsModal:b,isModal:f,locations:p,deleteCity:function(e){O((function(t){return t.filter((function(t){return t.name!==e}))}))}}),f&&Object(n.jsx)(I,{setIsModal:b,getWeatherByName:g})]})},L=(a(46),function(){return Object(n.jsx)(B,{})}),W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,48)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),W()},8:function(e,t,a){e.exports={main:"Main_main__3fzSv",modal:"Main_modal__12qLN",show:"Main_show__tU-hz",modal__inner:"Main_modal__inner__35MS-",modalButton:"Main_modalButton__25jSV",form:"Main_form__283FA",input:"Main_input__dhsNj",button:"Main_button__2FQPJ"}}},[[47,1,2]]]);
//# sourceMappingURL=main.08776e1d.chunk.js.map